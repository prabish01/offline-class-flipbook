<!DOCTYPE html>
<html>
	<html lang="en"></html>
<head>
	<title>Grammar Frolics - Flip Book</title>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="book.css">
	<script src="./jquery-3.5.1.min.js"></script>
	<script src="./jquery-ui.js"></script>
<style>
	/* Annotation Toolbar Styles - Kid Friendly */
	.annotation-toolbar {
		position: fixed;
		right: 0;
		top: 50%;
		transform: translateY(-50%);
		background: linear-gradient(135deg, #FF6B9D 0%, #FFA07A 50%, #FFD93D 100%);
		padding: 20px 15px;
		border-radius: 25px 0 0 25px;
		box-shadow: -8px 0 30px rgba(0, 0, 0, 0.25);
		z-index: 10000;
		width: 100px;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 12px;
		transition: all 0.3s ease;
		border: 4px solid white;
	}
	
	.annotation-toolbar.collapsed {
		right: -90px;
	}
	
	.toolbar-header {
		color: white;
		font-size: 14px;
		font-weight: 900;
		text-align: center;
		margin-bottom: 8px;
		text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
		font-family: 'Comic Sans MS', cursive, sans-serif;
	}
	
	.tool-btn {
		width: 65px;
		height: 65px;
		border: 3px solid white;
		border-radius: 15px;
		background: rgba(255, 255, 255, 0.9);
		color: #FF6B9D;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		transition: all 0.2s ease;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
	}
	
	.tool-btn svg {
		width: 32px;
		height: 32px;
	}
	
	.tool-btn:hover {
		background: white;
		transform: scale(1.1) rotate(5deg);
		box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
	}
	
	.tool-btn.active {
		background: #FFD93D;
		color: #FF6B9D;
		box-shadow: 0 0 20px rgba(255, 217, 61, 0.8);
		transform: scale(1.05);
		border-color: #FF6B9D;
		border-width: 4px;
	}
	
	.tool-btn.danger {
		background: #FF4757;
		color: white;
	}
	
	.tool-btn.danger:hover {
		background: #FF3838;
		transform: scale(1.1);
	}
	
	.toolbar-divider {
		width: 70px;
		height: 3px;
		background: white;
		margin: 8px 0;
		border-radius: 2px;
		box-shadow: 0 2px 4px rgba(0,0,0,0.2);
	}
	
	.toolbar-section {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 10px;
		width: 100%;
	}
	
	.toolbar-label {
		color: white;
		font-size: 13px;
		font-weight: 900;
		text-transform: uppercase;
		text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
		font-family: 'Comic Sans MS', cursive, sans-serif;
	}
	
	.color-palette {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: 8px;
	}
	
	.color-btn {
		width: 35px;
		height: 35px;
		border: 3px solid white;
		border-radius: 50%;
		cursor: pointer;
		transition: all 0.2s ease;
		box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
	}
	
	.color-btn:hover {
		transform: scale(1.2) rotate(10deg);
		box-shadow: 0 0 15px rgba(255, 255, 255, 1);
	}
	
	.color-btn.active {
		box-shadow: 0 0 20px rgba(255, 255, 255, 1), 0 0 10px currentColor;
		transform: scale(1.3);
		border-width: 4px;
	}
	
	.size-slider {
		width: 70px;
		height: 6px;
		-webkit-appearance: none;
		appearance: none;
		background: white;
		border-radius: 3px;
		outline: none;
		box-shadow: 0 2px 4px rgba(0,0,0,0.2);
	}
	
	.size-slider::-webkit-slider-thumb {
		-webkit-appearance: none;
		appearance: none;
		width: 22px;
		height: 22px;
		background: #FF6B9D;
		border: 3px solid white;
		border-radius: 50%;
		cursor: pointer;
		box-shadow: 0 2px 4px rgba(0,0,0,0.3);
	}
	
	.size-slider::-moz-range-thumb {
		width: 22px;
		height: 22px;
		background: #FF6B9D;
		border: 3px solid white;
		border-radius: 50%;
		cursor: pointer;
		box-shadow: 0 2px 4px rgba(0,0,0,0.3);
	}
	
	.size-display {
		color: white;
		font-size: 16px;
		font-weight: 900;
		text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
		font-family: 'Comic Sans MS', cursive, sans-serif;
	}
	
	.toggle-btn {
		margin-top: 12px;
	}
	
	/* Drawing Canvas */
	#drawingCanvas {
		position: absolute;
		top: 0;
		left: 0;
		z-index: 1000;
		pointer-events: none;
	}
	
	#drawingCanvas.drawing-active {
		pointer-events: auto;
	}
	
	/* Interactive Elements */
	.interactive-element {
		position: absolute;
		border: 2px dashed #FF6B9D;
		cursor: move;
		background: transparent;
		z-index: 1001;
	}
	
	.interactive-element.selected {
		border: 3px solid #FFD93D;
		box-shadow: 0 0 15px rgba(255, 217, 61, 0.8);
	}
	
	.resize-handle {
		position: absolute;
		width: 20px;
		height: 20px;
		background: #FF6B9D;
		border: 3px solid white;
		border-radius: 50%;
		cursor: nwse-resize;
		box-shadow: 0 2px 6px rgba(0,0,0,0.3);
	}
	
	.resize-handle.bottom-right {
		right: -10px;
		bottom: -10px;
	}
	
	.delete-handle {
		position: absolute;
		top: -12px;
		right: -12px;
		width: 28px;
		height: 28px;
		background: #FF4757;
		border: 3px solid white;
		border-radius: 50%;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
		font-weight: bold;
		font-size: 16px;
		box-shadow: 0 2px 6px rgba(0,0,0,0.3);
	}
	
	.delete-handle:hover {
		background: #FF3838;
		transform: scale(1.1);
	}
	
	.text-element {
		padding: 8px;
		font-family: Arial, sans-serif;
		white-space: nowrap;
	}
	</style>
</head>
<body>
	<a style="display:none" id="aud"></a><a id="det" style="display:none">1</a>
	<!--!> widget lists <-->
<div class="leath" id="leath">

<div id="album" class="album">
	<div style="background: url('../../assets/pages/class-1/file-page 1.jpg'); background-size: 100% 100%;"></div>
	<div style="background: white"></div>
<div style="background: url('../../assets/pages/class-1/file-page 2.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 3.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 4.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 5.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 6.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 7.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 8.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 9.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 10.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 11.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 12.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 13.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 14.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 15.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 16.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 17.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 18.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 19.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 20.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 21.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 22.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 23.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 24.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 25.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 26.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 27.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 28.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 29.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 30.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 31.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 32.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 33.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 34.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 35.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 36.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 37.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 38.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 39.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 40.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 41.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 42.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 43.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 44.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 45.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 46.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 47.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 48.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 49.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 50.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 51.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 52.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 53.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 54.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 55.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 56.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 57.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 58.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 59.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 60.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 61.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 62.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 63.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 64.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 65.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 66.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 67.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 68.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 69.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 70.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 71.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 72.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 73.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 74.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 75.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 76.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 77.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 78.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 79.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 80.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 81.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 82.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 83.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 84.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 85.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 86.jpg'); background-size: 100% 100%;"></div>
<div style="background: url('../../assets/pages/class-1/file-page 87.jpg'); background-size: 100% 100%;"></div>
<div style="background: white"></div>
<div style="background: url('../../assets/pages/class-1/file-page 88.jpg'); background-size: 100% 100%;"></div>

	
</div>
</div>
<img id="Logo" src="../../assets/images/flipbook-ui/logo.png" alt="Logo">
<span id="selText" style="display: none;">1</span><span id="pgval" style="display: none;">1</span><span id="pgvalmb" style="display: none;">1</span><br></br>
<div id="btn">
	<span id="bck">
		<p style="    margin: 0;
		margin-right: 1.2vw;
		font-size: 1.1vw;">PREVIOUS</p>
		<span style="height: 18px;">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width: 15px;"><path fill="#7f8081" d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM310.6 345.4c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0l-112-112C147.1 272.4 144 264.2 144 256s3.125-16.38 9.375-22.62l112-112c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L221.3 256L310.6 345.4z"/></svg>
		</span>
	</span>
	<span id="nxt">
		<p style="    margin: 0;
		margin-right: 1.2vw;
		font-size: 1.1vw;">NEXT</p>
		<span style="height: 18px;">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width: 15px;"><path fill="#7f8081"d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM358.6 278.6l-112 112c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25L290.8 256L201.4 166.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l112 112C364.9 239.6 368 247.8 368 256S364.9 272.4 358.6 278.6z"/></svg>
		</span>
	</span>
	<span id="controls">
		<label for="page-number" style='font-size: 1.15vw;'>GO TO PAGE -</label> <input type="text" size="2" id="page-number"> of <span id="number-pages"></span>
	</span>
	<span style="display:flex;position: relative;    margin: 0 0.5vw;">
	<span id="zoom">
		<span id="zm"  style="height: 18px;"><svg xmlns="http://www.w3.org/2000/svg" style="height:1.4vw;width: 18px;" viewBox="0 0 512 512"><path fill="#7f8081" d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7c-12.23-91.55-87.28-166-178.9-177.6c-136.2-17.24-250.7 97.28-233.4 233.4c11.6 91.64 86.07 166.7 177.6 178.9c53.81 7.191 104.3-6.235 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 .0003C515.9 484.7 515.9 459.3 500.3 443.7zM288 232H231.1V288c0 13.26-10.74 24-23.1 24C194.7 312 184 301.3 184 288V232H127.1C114.7 232 104 221.3 104 208s10.74-24 23.1-24H184V128c0-13.26 10.74-24 23.1-24S231.1 114.7 231.1 128v56h56C301.3 184 312 194.7 312 208S301.3 232 288 232z"/></svg></span>
	</span>
	<span  id="zoom1" style="margin-left:10px;    display: none;" >
		<span  style="height: 18px;">T</span>
	</span>
	<span  id="zoom2" style="margin-left:10px;" >
		<span  style="height: 18px;"><svg xmlns="http://www.w3.org/2000/svg" style="height:1.4vw;width: 18px;"viewBox="0 0 512 512"><path fill="#7f8081" d="M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"/></svg></span>
	</span>
</span>
</div>
<div id="mbbtn">
	<span id="bck1">
		<span style="height: 18px;">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width: 18px;"><path fill="#234b55" d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM310.6 345.4c12.5 12.5 12.5 32.75 0 45.25s-32.75 12.5-45.25 0l-112-112C147.1 272.4 144 264.2 144 256s3.125-16.38 9.375-22.62l112-112c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L221.3 256L310.6 345.4z"/></svg>
		</span>
	</span>
	<span id="nxt1">
		<span style="height: 18px;">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width: 18px;"><path fill="#234b55"d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM358.6 278.6l-112 112c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25L290.8 256L201.4 166.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l112 112C364.9 239.6 368 247.8 368 256S364.9 272.4 358.6 278.6z"/></svg>
		</span>
	</span>
	<span  id="selmb" style="margin-left:10px;" >
		<span>T</span>
	</span><br>
	<span id="controls">
		<label for="page-number" >PAGE -</label> <input type="text" size="2" id="page-numbermb"> of <span id="number-pages">8</span><svg  id="mbpage" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width: 21px;"><path fill="#e4ffff"d="M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM358.6 278.6l-112 112c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25L290.8 256L201.4 166.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l112 112C364.9 239.6 368 247.8 368 256S364.9 272.4 358.6 278.6z"/></svg>
	</span>
		<span id="copymb" style="height:40px;margin-left:10px;"><svg xmlns="http://www.w3.org/2000/svg" style="width: 18px;"viewBox="0 0 512 512"><path fill="#234b55" d="M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"/></svg>
	</span>
</div>

<!-- Annotation Toolbar -->
<div id="annotationToolbar" class="annotation-toolbar">
	<div class="toolbar-header">Drawing Tools</div>
	
	<!-- Tool Selection -->
	<button class="tool-btn active" id="markerBtn" data-tool="marker" title="Marker">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20">
			<path fill="currentColor" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/>
		</svg>
	</button>
	
	<button class="tool-btn" id="textBtn" data-tool="text" title="Text Box">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="20" height="20">
			<path fill="currentColor" d="M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-1.8l18-48H303.8l18 48H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-25.8L254 52.8zM224 128l48.9 128H175.1L224 128z"/>
		</svg>
	</button>
	
	<button class="tool-btn" id="shapeBtn" data-tool="shape" title="Shapes">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="20" height="20">
			<path fill="currentColor" d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"/>
		</svg>
	</button>
	
	<button class="tool-btn" id="rectangleBtn" data-tool="rectangle" title="Rectangle">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="20" height="20">
			<path fill="currentColor" d="M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"/>
		</svg>
	</button>
	
	<button class="tool-btn" id="arrowBtn" data-tool="arrow" title="Arrow">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="20" height="20">
			<path fill="currentColor" d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/>
		</svg>
	</button>
	
	<div class="toolbar-divider"></div>
	
	<!-- Color Picker -->
	<div class="toolbar-section">
		<label class="toolbar-label">Color</label>
		<div class="color-palette">
			<button class="color-btn active" data-color="#FF0000" style="background: #FF0000;"></button>
			<button class="color-btn" data-color="#00FF00" style="background: #00FF00;"></button>
			<button class="color-btn" data-color="#0000FF" style="background: #0000FF;"></button>
			<button class="color-btn" data-color="#FFFF00" style="background: #FFFF00;"></button>
			<button class="color-btn" data-color="#FF00FF" style="background: #FF00FF;"></button>
			<button class="color-btn" data-color="#00FFFF" style="background: #00FFFF;"></button>
			<button class="color-btn" data-color="#000000" style="background: #000000;"></button>
			<button class="color-btn" data-color="#FFFFFF" style="background: #FFFFFF; border: 1px solid #ccc;"></button>
		</div>
	</div>
	
	<div class="toolbar-divider"></div>
	
	<!-- Brush Size -->
	<div class="toolbar-section">
		<label class="toolbar-label">Size</label>
		<input type="range" id="brushSize" min="1" max="20" value="3" class="size-slider">
		<span id="sizeDisplay" class="size-display">3</span>
	</div>
	
	<div class="toolbar-divider"></div>
	
	<!-- Clear/Eraser Tools -->
	<button class="tool-btn" id="eraserBtn" data-tool="eraser" title="Eraser">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="20" height="20">
			<path fill="currentColor" d="M290.7 57.4L57.4 290.7c-25 25-25 65.5 0 90.5l80 80c12 12 28.3 18.7 45.3 18.7H288h9.4H512c17.7 0 32-14.3 32-32s-14.3-32-32-32H387.9L518.6 285.3c25-25 25-65.5 0-90.5L381.3 57.4c-25-25-65.5-25-90.5 0zM297.4 416H288l-105.4 0-80-80L227.3 211.3 364.7 348.7 297.4 416z"/>
		</svg>
	</button>
	
	<button class="tool-btn danger" id="clearBtn" title="Clear All Annotations">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="20" height="20">
			<path fill="currentColor" d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"/>
		</svg>
	</button>
	
	<!-- Toggle Toolbar -->
	<button class="tool-btn toggle-btn" id="toggleToolbar" title="Hide Toolbar">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" width="20" height="20">
			<path fill="currentColor" d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/>
		</svg>
	</button>
</div>

<!-- Canvas for drawing -->
<canvas id="drawingCanvas"></canvas>

<img src="../../assets/images/flipbook-ui/b_1.png" id="home">
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>
	var vidplay = 0;
	var musicplay = 0;
	var script = document.createElement('script');
script.type='text/javascript';

if(window.matchMedia("(max-width:600px)").matches) {
  script.src = 'flip.js';      
}else{
  script.src = 'pc.js';      
}

document.getElementsByTagName('head')[0].appendChild(script);

// Annotation Drawing System with Interactive Elements
(function() {
	const canvas = document.getElementById('drawingCanvas');
	const ctx = canvas.getContext('2d');
	const album = document.getElementById('album');
	const leath = document.getElementById('leath');
	
	// State
	let isDrawing = false;
	let currentTool = 'marker';
	let currentColor = '#FF0000';
	let brushSize = 3;
	let startX, startY;
	let annotations = {}; // Store canvas drawings per page
	let interactiveElements = {}; // Store interactive elements per page
	let currentPage = 1;
	let tempCanvas = null;
	let selectedElement = null;
	let isDragging = false;
	let isResizing = false;
	let dragOffset = {x: 0, y: 0};
	
	// Initialize canvas size
	function resizeCanvas() {
		const albumRect = album.getBoundingClientRect();
		canvas.width = albumRect.width;
		canvas.height = albumRect.height;
		canvas.style.width = albumRect.width + 'px';
		canvas.style.height = albumRect.height + 'px';
		canvas.style.left = albumRect.left + 'px';
		canvas.style.top = albumRect.top + 'px';
		restoreAnnotations();
	}
	
	// Initialize
	setTimeout(resizeCanvas, 500);
	window.addEventListener('resize', resizeCanvas);
	
	// Save current page annotations
	function saveAnnotations() {
		annotations[currentPage] = canvas.toDataURL();
	}
	
	// Save interactive elements for current page
	function saveInteractiveElements() {
		const elements = document.querySelectorAll('.interactive-element');
		const elementsData = [];
		elements.forEach(el => {
			elementsData.push({
				html: el.outerHTML,
				left: el.style.left,
				top: el.style.top
			});
		});
		interactiveElements[currentPage] = elementsData;
	}
	
	// Clear all interactive elements
	function clearInteractiveElements() {
		document.querySelectorAll('.interactive-element').forEach(el => el.remove());
	}
	
	// Restore annotations for current page
	function restoreAnnotations() {
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		if (annotations[currentPage]) {
			const img = new Image();
			img.onload = function() {
				ctx.drawImage(img, 0, 0);
			};
			img.src = annotations[currentPage];
		}
		
		// Restore interactive elements
		clearInteractiveElements();
		if (interactiveElements[currentPage]) {
			interactiveElements[currentPage].forEach(elData => {
				const temp = document.createElement('div');
				temp.innerHTML = elData.html;
				const element = temp.firstChild;
				document.body.appendChild(element);
				attachElementHandlers(element);
			});
		}
	}
	
	// Watch for page changes
	const pageNumberInput = document.getElementById('page-number');
	if (pageNumberInput) {
		setInterval(function() {
			const newPage = parseInt(pageNumberInput.value) || 1;
			if (newPage !== currentPage) {
				saveAnnotations();
				saveInteractiveElements();
				currentPage = newPage;
				restoreAnnotations();
			}
		}, 500);
	}
	
	// Tool selection
	document.querySelectorAll('.tool-btn[data-tool]').forEach(btn => {
		btn.addEventListener('click', function() {
			document.querySelectorAll('.tool-btn[data-tool]').forEach(b => b.classList.remove('active'));
			this.classList.add('active');
			currentTool = this.dataset.tool;
			canvas.classList.add('drawing-active');
			canvas.style.cursor = currentTool === 'eraser' ? 'crosshair' : 'crosshair';
		});
	});
	
	// Color selection
	document.querySelectorAll('.color-btn').forEach(btn => {
		btn.addEventListener('click', function() {
			document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));
			this.classList.add('active');
			currentColor = this.dataset.color;
		});
	});
	
	// Brush size
	const brushSizeSlider = document.getElementById('brushSize');
	const sizeDisplay = document.getElementById('sizeDisplay');
	brushSizeSlider.addEventListener('input', function() {
		brushSize = parseInt(this.value);
		sizeDisplay.textContent = brushSize;
	});
	
	// Clear button
	document.getElementById('clearBtn').addEventListener('click', function() {
		if (confirm('Clear all annotations on this page?')) {
			ctx.clearRect(0, 0, canvas.width, canvas.height);
			delete annotations[currentPage];
			clearInteractiveElements();
			delete interactiveElements[currentPage];
		}
	});
	
	// Eraser button
	document.getElementById('eraserBtn').addEventListener('click', function() {
		document.querySelectorAll('.tool-btn[data-tool]').forEach(b => b.classList.remove('active'));
		this.classList.add('active');
		currentTool = 'eraser';
		canvas.classList.add('drawing-active');
		canvas.style.cursor = 'crosshair';
	});
	
	// Toggle toolbar
	const toolbar = document.querySelector('.annotation-toolbar');
	document.getElementById('toggleToolbar').addEventListener('click', function() {
		toolbar.classList.toggle('collapsed');
		const svg = this.querySelector('svg path');
		if (toolbar.classList.contains('collapsed')) {
			svg.setAttribute('d', 'M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z');
			this.title = 'Show Toolbar';
		} else {
			svg.setAttribute('d', 'M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z');
			this.title = 'Hide Toolbar';
		}
	});
	
	// Drawing functions
	function getMousePos(e) {
		const rect = canvas.getBoundingClientRect();
		return {
			x: (e.clientX || e.touches[0].clientX) - rect.left,
			y: (e.clientY || e.touches[0].clientY) - rect.top
		};
	}
	
	function startDrawing(e) {
		if (!canvas.classList.contains('drawing-active')) return;
		isDrawing = true;
		const pos = getMousePos(e);
		startX = pos.x;
		startY = pos.y;
		
		if (currentTool === 'marker' || currentTool === 'eraser') {
			ctx.beginPath();
			ctx.moveTo(startX, startY);
		} else if (currentTool === 'text') {
			const text = prompt('Enter text:');
			if (text) {
				createTextElement(text, startX, startY);
			}
			isDrawing = false;
		} else {
			// For shapes, save current canvas state
			tempCanvas = ctx.getImageData(0, 0, canvas.width, canvas.height);
		}
		e.preventDefault();
	}
	
	function draw(e) {
		if (!isDrawing) return;
		const pos = getMousePos(e);
		
		if (currentTool === 'marker') {
			ctx.strokeStyle = currentColor;
			ctx.lineWidth = brushSize;
			ctx.lineCap = 'round';
			ctx.lineJoin = 'round';
			ctx.lineTo(pos.x, pos.y);
			ctx.stroke();
		} else if (currentTool === 'eraser') {
			ctx.globalCompositeOperation = 'destination-out';
			ctx.strokeStyle = 'rgba(0,0,0,1)';
			ctx.lineWidth = brushSize * 3;
			ctx.lineCap = 'round';
			ctx.lineJoin = 'round';
			ctx.lineTo(pos.x, pos.y);
			ctx.stroke();
			ctx.globalCompositeOperation = 'source-over';
		} else if (tempCanvas) {
			// Clear and restore for shapes preview
			ctx.putImageData(tempCanvas, 0, 0);
			
			ctx.strokeStyle = currentColor;
			ctx.lineWidth = brushSize;
			
			if (currentTool === 'shape') {
				const radius = Math.sqrt(Math.pow(pos.x - startX, 2) + Math.pow(pos.y - startY, 2));
				ctx.beginPath();
				ctx.arc(startX, startY, radius, 0, 2 * Math.PI);
				ctx.stroke();
			} else if (currentTool === 'rectangle') {
				ctx.strokeRect(startX, startY, pos.x - startX, pos.y - startY);
			} else if (currentTool === 'arrow') {
				drawArrow(startX, startY, pos.x, pos.y);
			}
		}
		e.preventDefault();
	}
	
	function stopDrawing(e) {
		if (!isDrawing) return;
		
		// For shapes, create interactive element instead of drawing on canvas
		if (tempCanvas && (currentTool === 'shape' || currentTool === 'rectangle' || currentTool === 'arrow')) {
			const pos = getMousePos(e);
			const width = Math.abs(pos.x - startX);
			const height = Math.abs(pos.y - startY);
			const left = Math.min(startX, pos.x);
			const top = Math.min(startY, pos.y);
			
			if (width > 10 && height > 10) {
				// Clear preview from canvas
				ctx.putImageData(tempCanvas, 0, 0);
				createShapeElement(currentTool, left, top, width, height);
			}
		}
		
		isDrawing = false;
		tempCanvas = null;
		saveAnnotations();
		e.preventDefault();
	}
	
	// Create interactive text element
	function createTextElement(text, x, y) {
		const albumRect = album.getBoundingClientRect();
		const element = document.createElement('div');
		element.className = 'interactive-element text-element';
		element.textContent = text;
		element.style.left = (albumRect.left + x) + 'px';
		element.style.top = (albumRect.top + y) + 'px';
		element.style.color = currentColor;
		element.style.fontSize = (brushSize * 6) + 'px';
		element.style.fontWeight = 'bold';
		element.style.fontFamily = 'Comic Sans MS, cursive, sans-serif';
		element.style.textShadow = '2px 2px 4px rgba(0,0,0,0.3)';
		
		document.body.appendChild(element);
		addElementControls(element);
		attachElementHandlers(element);
	}
	
	// Create interactive shape element
	function createShapeElement(shapeType, x, y, width, height) {
		const albumRect = album.getBoundingClientRect();
		const element = document.createElement('div');
		element.className = 'interactive-element shape-element';
		element.style.left = (albumRect.left + x) + 'px';
		element.style.top = (albumRect.top + y) + 'px';
		element.style.width = width + 'px';
		element.style.height = height + 'px';
		element.dataset.shapeType = shapeType;
		
		// Create SVG for the shape
		const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
		svg.style.width = '100%';
		svg.style.height = '100%';
		svg.style.position = 'absolute';
		svg.style.pointerEvents = 'none';
		
		if (shapeType === 'shape') {
			// Circle
			const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
			circle.setAttribute('cx', '50%');
			circle.setAttribute('cy', '50%');
			circle.setAttribute('r', Math.min(width, height) / 2 + 'px');
			circle.setAttribute('fill', 'none');
			circle.setAttribute('stroke', currentColor);
			circle.setAttribute('stroke-width', brushSize);
			svg.appendChild(circle);
		} else if (shapeType === 'rectangle') {
			const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
			rect.setAttribute('width', '100%');
			rect.setAttribute('height', '100%');
			rect.setAttribute('fill', 'none');
			rect.setAttribute('stroke', currentColor);
			rect.setAttribute('stroke-width', brushSize);
			svg.appendChild(rect);
		} else if (shapeType === 'arrow') {
			const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
			line.setAttribute('x1', '0');
			line.setAttribute('y1', '0');
			line.setAttribute('x2', width);
			line.setAttribute('y2', height);
			line.setAttribute('stroke', currentColor);
			line.setAttribute('stroke-width', brushSize);
			line.setAttribute('marker-end', 'url(#arrowhead)');
			
			const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
			const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
			marker.setAttribute('id', 'arrowhead');
			marker.setAttribute('markerWidth', '10');
			marker.setAttribute('markerHeight', '10');
			marker.setAttribute('refX', '5');
			marker.setAttribute('refY', '3');
			marker.setAttribute('orient', 'auto');
			
			const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
			polygon.setAttribute('points', '0 0, 10 3, 0 6');
			polygon.setAttribute('fill', currentColor);
			
			marker.appendChild(polygon);
			defs.appendChild(marker);
			svg.appendChild(defs);
			svg.appendChild(line);
		}
		
		element.appendChild(svg);
		document.body.appendChild(element);
		addElementControls(element);
		attachElementHandlers(element);
	}
	
	// Add resize and delete controls to element
	function addElementControls(element) {
		// Resize handle
		const resizeHandle = document.createElement('div');
		resizeHandle.className = 'resize-handle bottom-right';
		element.appendChild(resizeHandle);
		
		// Delete button
		const deleteHandle = document.createElement('div');
		deleteHandle.className = 'delete-handle';
		deleteHandle.innerHTML = 'Ã—';
		deleteHandle.onclick = function(e) {
			e.stopPropagation();
			if (confirm('Delete this element?')) {
				element.remove();
				saveInteractiveElements();
			}
		};
		element.appendChild(deleteHandle);
	}
	
	// Attach drag and resize handlers to element
	function attachElementHandlers(element) {
		const resizeHandle = element.querySelector('.resize-handle');
		
		// Click to select
		element.addEventListener('mousedown', function(e) {
			if (e.target === element || e.target.classList.contains('text-element')) {
				e.preventDefault();
				selectElement(element);
				startDragging(e, element);
			}
		});
		
		// Resize
		if (resizeHandle) {
			resizeHandle.addEventListener('mousedown', function(e) {
				e.preventDefault();
				e.stopPropagation();
				startResizing(e, element);
			});
		}
	}
	
	// Select element
	function selectElement(element) {
		document.querySelectorAll('.interactive-element').forEach(el => {
			el.classList.remove('selected');
		});
		element.classList.add('selected');
		selectedElement = element;
	}
	
	// Start dragging
	function startDragging(e, element) {
		isDragging = true;
		const rect = element.getBoundingClientRect();
		dragOffset.x = e.clientX - rect.left;
		dragOffset.y = e.clientY - rect.top;
	}
	
	// Start resizing
	function startResizing(e, element) {
		isResizing = true;
		selectedElement = element;
		e.stopPropagation();
	}
	
	// Global mouse move handler
	document.addEventListener('mousemove', function(e) {
		if (isDragging && selectedElement) {
			e.preventDefault();
			selectedElement.style.left = (e.clientX - dragOffset.x) + 'px';
			selectedElement.style.top = (e.clientY - dragOffset.y) + 'px';
		} else if (isResizing && selectedElement) {
			e.preventDefault();
			const rect = selectedElement.getBoundingClientRect();
			const newWidth = e.clientX - rect.left;
			const newHeight = e.clientY - rect.top;
			
			if (newWidth > 20) selectedElement.style.width = newWidth + 'px';
			if (newHeight > 20) selectedElement.style.height = newHeight + 'px';
			
			// Update font size for text elements
			if (selectedElement.classList.contains('text-element')) {
				const avgSize = (newWidth + newHeight) / 2;
				selectedElement.style.fontSize = Math.max(12, avgSize / 3) + 'px';
			}
		}
	});
	
	// Global mouse up handler
	document.addEventListener('mouseup', function() {
		if (isDragging || isResizing) {
			isDragging = false;
			isResizing = false;
			saveInteractiveElements();
		}
	});
	
	function drawArrow(fromX, fromY, toX, toY) {
		const headLength = 15 + brushSize * 2;
		const angle = Math.atan2(toY - fromY, toX - fromX);
		
		ctx.beginPath();
		ctx.moveTo(fromX, fromY);
		ctx.lineTo(toX, toY);
		ctx.stroke();
		
		ctx.beginPath();
		ctx.moveTo(toX, toY);
		ctx.lineTo(toX - headLength * Math.cos(angle - Math.PI / 6), toY - headLength * Math.sin(angle - Math.PI / 6));
		ctx.moveTo(toX, toY);
		ctx.lineTo(toX - headLength * Math.cos(angle + Math.PI / 6), toY - headLength * Math.sin(angle + Math.PI / 6));
		ctx.stroke();
	}
	
	// Event listeners
	canvas.addEventListener('mousedown', startDrawing);
	canvas.addEventListener('mousemove', draw);
	canvas.addEventListener('mouseup', stopDrawing);
	canvas.addEventListener('mouseout', stopDrawing);
	
	// Touch support
	canvas.addEventListener('touchstart', startDrawing);
	canvas.addEventListener('touchmove', draw);
	canvas.addEventListener('touchend', stopDrawing);
	
})();
</script>
</body>
</html>
